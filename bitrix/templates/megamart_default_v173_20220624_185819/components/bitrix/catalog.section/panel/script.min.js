!function(t,e,i){"use strict";t.JCWishlistPanel=function(t,e){this.$block=i("#"+t),this.params=e,this.init()},i.extend(t.JCWishlistPanel.prototype,{init:function(){var e=this;this.$block.find('[data-entity="remove-item"]').on("click",function(){var t=i(this).closest('[data-entity="item"]').data("id");"string"!=typeof t&&(t=t.toString()),e.removeItem(t)}),BX.addCustomEvent(t,"change.rs_favorite",function(){i('.js-global-favorite[data-type="ajax"][data-need-cache="Y"]').attr("data-need-reload","Y")})},removeItem:function(e){if(e){var a=t.location.href,o={action:"add2wishlist"};o.element_id=e,o.sessid=BX.bitrix_sessid(),this.$block.addClass("overlay"),i.post(a,o,i.proxy(function(t){RS.Favorite.remove(Number(e)),BX.onCustomEvent("change.rs_favorite"),this.$block.find('[data-entity="item"][data-id="'+e+'"]').remove(),this.$block.removeClass("overlay")},this))}},update:function(){}})}(window,document,jQuery);