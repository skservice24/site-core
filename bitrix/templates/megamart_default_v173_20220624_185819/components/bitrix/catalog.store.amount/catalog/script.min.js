window.JCCatalogStoreSKU=function(t){var s;if(t){for(s in this.config={id:t.ID,mainId:t.ID+"_main",noneId:t.ID+"_none",showEmptyStore:t.SHOW_EMPTY_STORE,useMinAmount:t.USE_MIN_AMOUNT,minAmount:t.MIN_AMOUNT},this.messages=t.MESSAGES,this.classes=t.CLASSES,this.sku=t.SKU,this.stores=t.STORES,this.obStores={},this.stores)this.obStores[this.stores[s]]=BX(this.config.id+"_"+this.stores[s]);BX.addCustomEvent(window,"onCatalogStoreProductChange",BX.proxy(this.offerOnChange,this))}},window.JCCatalogStoreSKU.prototype.offerOnChange=function(t){if(this.sku[t]){var s,i,o,n=this.sku[t],e=!1;for(s in this.obStores)if(BX.adjust(this.obStores[s],{props:{className:"product-cat-limit"}}),i=this.config.useMinAmount?this.getStringCount(0,this.messages):"",BX.adjust(this.obStores[s].querySelector('[data-entity="quantity-limit-value"]'),{html:i}),n[s]?(BX.addClass(this.obStores[s],this.getStringCount(n[s],this.classes)),i=this.config.useMinAmount?this.getStringCount(n[s],this.messages):n[s],BX.adjust(this.obStores[s].querySelector('[data-entity="quantity-limit-value"]'),{html:i})):BX.addClass(this.obStores[s],this.getStringCount(0,this.classes)),o=BX.findParent(this.obStores[s],{tagName:"li"}),this.config.showEmptyStore||n[s]>0){BX.adjust(o,{props:{className:"shop-list-item "+this.getStringCount(n[s],this.classes)}});var a=o.querySelector('[data-entity="stock-amount"]');n[s]>0?BX.adjust(a,{props:{className:"badge badge-primary"},html:n[s]}):BX.adjust(a,{props:{className:"badge badge-secondary"},html:""}),BX.show(o),e=!0}else BX.hide(o);BX(this.config.mainId)&&!this.config.showEmptyStore&&(e?this.showBlock():this.hideBlock())}},window.JCCatalogStoreSKU.prototype.getStringCount=function(t,s){return 0==t?s.ABSENT:t>=this.config.minAmount?s.LOT_OF_GOOD:s.NOT_MUCH_GOOD},window.JCCatalogStoreSKU.prototype.hideBlock=function(){BX(this.config.mainId)&&(BX(this.config.mainId).style.display="none"),BX(this.config.noneId)&&(BX(this.config.noneId).style.display="block")},window.JCCatalogStoreSKU.prototype.showBlock=function(){BX(this.config.mainId)&&(BX(this.config.mainId).style.display="block"),BX(this.config.noneId)&&(BX(this.config.noneId).style.display="none")};