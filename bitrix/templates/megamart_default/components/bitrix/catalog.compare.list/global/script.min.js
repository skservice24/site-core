!function(a,t,e){"use strict";var o;(a.RS||(a.RS={}),a.RS.GlobalCart)||(RS.GlobalCompare=function(t,o,r){this.ajaxPath=t,this.ajaxId=o,this.items=r,e.addCustomEvent(a,"OnCompareChange",this.refresh.bind(this))},RS.GlobalCompare.init=function(a,t,e){return RS.GlobalCompare.getInstance()||(o=new RS.GlobalCompare(a,t,e)),RS.GlobalCompare.getInstance()},RS.GlobalCompare.getInstance=function(){return o},RS.GlobalCompare.prototype={refresh:function(a){(a=a||{}).compare_list_reload="Y",a.ajax_id=this.ajaxId,e.ajax.post(this.ajaxPath,a,e.proxy(this.reloadResult,this))},reloadResult:function(a){var o=t.querySelectorAll(".js-global-compare");a=e.parseJSON(a);for(var r=0;r<o.length;r++){var n=o[r],l=n.querySelector(".js-global-compare__count");a.COUNT>0&&n.classList.add("has-items"),l&&(l.innerHTML=a.COUNT)}e.onCustomEvent("GlobalStateChanged")}})}(window,document,BX);