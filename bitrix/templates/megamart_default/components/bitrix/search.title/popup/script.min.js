$(document).ready(function(){"use strict";var t,e=!1,o=$(".search-popup");if("true"!=o.attr("data-popup-inited")){o.hasClass("search-popup--top")?t="top":o.hasClass("search-popup--full")&&(t="full");var l=function(){$(".title-search-result").css({zIndex:99999}),o.find("input:eq(0)").focus()},s=function(){e||(e=!0,"full"==t?($("html").addClass("disable-scroll"),o.css({display:"block"}).velocity({opacity:1},{duration:400,complete:l})):"top"==t&&(RS.Utils.overlay.show(),$(".l-page").addClass("filter-blur"),o.css({display:"block"}).velocity("transition.slideDownInFull",{duration:400,complete:l}),$("body").on("click.outside",function(t){$(t.target)==o||$(t.target).closest(o).length||a()})),setTimeout(function(){o.addClass("is-open")},200))},i=function(){$("html.disable-scroll").removeClass("disable-scroll"),o.removeClass("is-open").css({display:"none"}),e=!1},a=function(){if(e)switch($(".title-search-result:visible").hide(),t){case"full":o.velocity({opacity:"0"},{duration:300,complete:i});break;case"top":RS.Utils.overlay.hide(),o.velocity("transition.slideDownOutFull",{duration:500,complete:i}),$("body").off("click.outside")}};$(document).on("click","[data-open-search-popup]",function(){s()}),o.on("click","[data-close-search-popup]",function(){a()}),$(document).keyup(function(t){27===t.keyCode&&a()}),o.attr("data-popup-inited","true")}});