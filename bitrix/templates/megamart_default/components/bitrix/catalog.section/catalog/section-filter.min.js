!function(){"use strict";window.JCSectionFilterComponent||(window.JCSectionFilterComponent=function(t){this.formPosting=!1,this.id=t.id||"",this.ajaxId=t.ajaxId||"",this.section=null,this.sectionFilter=null,this.filterBtns=null,this.filterSelect=null,BX.ready(BX.delegate(this.init,this))},window.JCSectionFilterComponent.prototype={init:function(t){if(this.sectionFilter=BX(this.id),this.section=BX(this.ajaxId),this.filterBtns=BX.findChild(this.sectionFilter,{tag:"a"},!0,!0),this.filterBtns.length>0)for(var i in this.filterBtns)BX.bind(this.filterBtns[i],"click",BX.proxy(this.clickFilterItems,this));this.filterSelect=BX.findChild(this.sectionFilter,{tag:"select"},!0),this.filterSelect&&BX.bind(this.filterSelect,"change",BX.proxy(this.selectFilterItems,this))},clickFilterItems:function(t){var i={action:"updateItems"};this.sendRequest(i),BX.PreventDefault(t)},selectFilterItems:function(t){var i={},e=BX.proxy_context;i.action="updateItems",i[e.name]=e.value,this.sendRequest(i),BX.PreventDefault(t)},sendRequest:function(t){var i=BX.proxy_context.getAttribute("href");i=i||document.location.href,this.formPosting||(this.formPosting=!0,BX.addClass(this.section,"overlay is-loading"),this.ajaxId&&(t.AJAX_ID=this.ajaxId),BX.ajax({url:-1!==document.location.href.indexOf("clear_cache=Y")?BX.util.add_url_param(i,{clear_cache:"Y"}):i,method:"POST",dataType:"json",timeout:60,data:t,onsuccess:BX.delegate(function(i){i&&i.JS&&BX.ajax.processScripts(BX.processHTML(i.JS).SCRIPT,!1,BX.delegate(function(){this.showAction(i,t)},this))},this)}))},showAction:function(t,i){if(i)switch(i.action){case"updateItems":this.processFilterItemsAction(t)}},processFilterItemsAction:function(t){this.formPosting=!1,t&&this.processSection(t.section),BX.removeClass(this.section,"overlay is-loading")},processSection:function(t){if(t){var i=BX.processHTML(t,!1);this.section&&(this.section.innerHTML=i.HTML),BX.ajax.processScripts(i.SCRIPT),void 0!==RS&&RS.Init(["popup"],this.section)}}})}();